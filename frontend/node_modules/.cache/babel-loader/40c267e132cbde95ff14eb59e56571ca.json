{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Riana\\\\OneDrive\\\\Desktop\\\\Mini Project\\\\facebook\\\\frontend\\\\src\\\\components\\\\intro\\\\index.js\",\n    _s = $RefreshSig$();\n\nimport { useEffect, useState } from \"react\";\nimport Bio from \"./Bio\";\nimport \"./style.css\";\nimport axios from \"axios\";\nimport { useSelector } from \"react-redux\";\nimport EditDetails from \"./EditDetails\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function Intro(_ref) {\n  _s();\n\n  let {\n    detailss,\n    visitor,\n    setOthername\n  } = _ref;\n  const {\n    user\n  } = useSelector(state => ({ ...state\n  }));\n  const [details, setDetails] = useState();\n  const [visible, setVisible] = useState(false);\n  useEffect(() => {\n    setDetails(detailss);\n    setInfos(detailss);\n  }, [detailss]);\n  const initial = {\n    bio: details !== null && details !== void 0 && details.bio ? details.bio : \"\",\n    otherName: details !== null && details !== void 0 && details.otherName ? details.otherName : \"\",\n    job: details !== null && details !== void 0 && details.job ? details.job : \"\",\n    workplace: details !== null && details !== void 0 && details.workplace ? details.workplace : \"\",\n    highSchool: details !== null && details !== void 0 && details.highSchool ? details.highSchool : \"\",\n    college: details !== null && details !== void 0 && details.college ? details.college : \"\",\n    currentCity: details !== null && details !== void 0 && details.currentCity ? details.currentCity : \"\",\n    hometown: details !== null && details !== void 0 && details.hometown ? details.hometown : \"\",\n    relationship: details !== null && details !== void 0 && details.relationship ? details.relationship : \"\",\n    instagram: details !== null && details !== void 0 && details.instagram ? details.instagram : \"\"\n  };\n  const [infos, setInfos] = useState(initial);\n  const [showBio, setShowBio] = useState(false);\n  const [max, setMax] = useState(infos !== null && infos !== void 0 && infos.bio ? 100 - (infos === null || infos === void 0 ? void 0 : infos.bio.length) : 100);\n\n  const updateDetails = async () => {\n    try {\n      console.log(\"sent\");\n      const {\n        data\n      } = await axios.put(`${process.env.REACT_APP_BACKEND_URL}/updateDetails`, {\n        infos\n      }, {\n        headers: {\n          Authorization: `Bearer ${user.token}`\n        }\n      });\n      setShowBio(false);\n      setDetails(data);\n      setOthername(data.otherName);\n    } catch (error) {\n      console.log(error.response.data.message);\n    }\n  };\n\n  const handleChange = e => {\n    const {\n      name,\n      value\n    } = e.target;\n    setInfos({ ...infos,\n      [name]: value\n    });\n    setMax(100 - e.target.value.length);\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"profile_card\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"profile_card_header\",\n      children: \"Intro\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 7\n    }, this), (details === null || details === void 0 ? void 0 : details.bio) && !showBio && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"info_col\",\n      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"info_text\",\n        children: details === null || details === void 0 ? void 0 : details.bio\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 11\n      }, this), !visitor && /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"gray_btn hover1\",\n        onClick: () => setShowBio(true),\n        children: \"Edit Bio\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 9\n    }, this), !(details !== null && details !== void 0 && details.bio) && !showBio && !visitor && /*#__PURE__*/_jsxDEV(\"button\", {\n      className: \"gray_btn hover1 w100\",\n      onClick: () => setShowBio(true),\n      children: \"Add Bio\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 9\n    }, this), showBio && /*#__PURE__*/_jsxDEV(Bio, {\n      infos: infos,\n      max: max,\n      handleChange: handleChange,\n      setShowBio: setShowBio,\n      updateDetails: updateDetails,\n      placeholder: \"Add Bio\",\n      name: \"bio\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 9\n    }, this), details !== null && details !== void 0 && details.job && details !== null && details !== void 0 && details.workplace ? /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"info_profile\",\n      children: [/*#__PURE__*/_jsxDEV(\"img\", {\n        src: \"../../../icons/job.png\",\n        alt: \"\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 11\n      }, this), \"works as \", details === null || details === void 0 ? void 0 : details.job, \" at \", /*#__PURE__*/_jsxDEV(\"b\", {\n        children: details === null || details === void 0 ? void 0 : details.workplace\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 38\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 9\n    }, this) : details !== null && details !== void 0 && details.job && !(details !== null && details !== void 0 && details.workplace) ? /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"info_profile\",\n      children: [/*#__PURE__*/_jsxDEV(\"img\", {\n        src: \"../../../icons/job.png\",\n        alt: \"\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 11\n      }, this), \"works as \", details === null || details === void 0 ? void 0 : details.job]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 9\n    }, this) : (details === null || details === void 0 ? void 0 : details.workplace) && !(details !== null && details !== void 0 && details.job) && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"info_profile\",\n      children: [/*#__PURE__*/_jsxDEV(\"img\", {\n        src: \"../../../icons/job.png\",\n        alt: \"\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 13\n      }, this), \"works at \", details === null || details === void 0 ? void 0 : details.workplace]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 11\n    }, this), (details === null || details === void 0 ? void 0 : details.relationship) && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"info_profile\",\n      children: [/*#__PURE__*/_jsxDEV(\"img\", {\n        src: \"../../../icons/relationship.png\",\n        alt: \"\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 11\n      }, this), details === null || details === void 0 ? void 0 : details.relationship]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 9\n    }, this), (details === null || details === void 0 ? void 0 : details.college) && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"info_profile\",\n      children: [/*#__PURE__*/_jsxDEV(\"img\", {\n        src: \"../../../icons/studies.png\",\n        alt: \"\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 119,\n        columnNumber: 11\n      }, this), \"studied at \", details === null || details === void 0 ? void 0 : details.college]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 9\n    }, this), (details === null || details === void 0 ? void 0 : details.highSchool) && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"info_profile\",\n      children: [/*#__PURE__*/_jsxDEV(\"img\", {\n        src: \"../../../icons/studies.png\",\n        alt: \"\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 125,\n        columnNumber: 11\n      }, this), \"studied at \", details === null || details === void 0 ? void 0 : details.highSchool]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 9\n    }, this), (details === null || details === void 0 ? void 0 : details.currentCity) && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"info_profile\",\n      children: [/*#__PURE__*/_jsxDEV(\"img\", {\n        src: \"../../../icons/home.png\",\n        alt: \"\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 131,\n        columnNumber: 11\n      }, this), \"Lives in \", details === null || details === void 0 ? void 0 : details.currentCity]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 130,\n      columnNumber: 9\n    }, this), (details === null || details === void 0 ? void 0 : details.hometown) && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"info_profile\",\n      children: [/*#__PURE__*/_jsxDEV(\"img\", {\n        src: \"../../../icons/home.png\",\n        alt: \"\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 137,\n        columnNumber: 11\n      }, this), \"From \", details === null || details === void 0 ? void 0 : details.hometown]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 136,\n      columnNumber: 9\n    }, this), (details === null || details === void 0 ? void 0 : details.hometown) && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"info_profile\",\n      children: [/*#__PURE__*/_jsxDEV(\"img\", {\n        src: \"../../../icons/instagram.png\",\n        alt: \"\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 143,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n        href: `https://www.instagram.com/${details === null || details === void 0 ? void 0 : details.instagram}`,\n        target: \"_blank\",\n        children: details === null || details === void 0 ? void 0 : details.instagram\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 144,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 142,\n      columnNumber: 9\n    }, this), !visitor && /*#__PURE__*/_jsxDEV(\"button\", {\n      className: \"gray_btn hover1 w100\",\n      onClick: () => setVisible(true),\n      children: \"Edit Details\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 153,\n      columnNumber: 9\n    }, this), visible && !visitor && /*#__PURE__*/_jsxDEV(EditDetails, {\n      details: details,\n      handleChange: handleChange,\n      updateDetails: updateDetails,\n      infos: infos,\n      setVisible: setVisible\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 161,\n      columnNumber: 9\n    }, this), !visitor && /*#__PURE__*/_jsxDEV(\"button\", {\n      className: \"gray_btn hover1 w100\",\n      children: \"Add Hobbies\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 171,\n      columnNumber: 9\n    }, this), !visitor && /*#__PURE__*/_jsxDEV(\"button\", {\n      className: \"gray_btn hover1 w100\",\n      children: \"Add Featured\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 174,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 58,\n    columnNumber: 5\n  }, this);\n}\n\n_s(Intro, \"ER/7YZvUOBrQOMz1kaqj6DgGP4Q=\", false, function () {\n  return [useSelector];\n});\n\n_c = Intro;\n\nvar _c;\n\n$RefreshReg$(_c, \"Intro\");","map":{"version":3,"sources":["C:/Users/Riana/OneDrive/Desktop/Mini Project/facebook/frontend/src/components/intro/index.js"],"names":["useEffect","useState","Bio","axios","useSelector","EditDetails","Intro","detailss","visitor","setOthername","user","state","details","setDetails","visible","setVisible","setInfos","initial","bio","otherName","job","workplace","highSchool","college","currentCity","hometown","relationship","instagram","infos","showBio","setShowBio","max","setMax","length","updateDetails","console","log","data","put","process","env","REACT_APP_BACKEND_URL","headers","Authorization","token","error","response","message","handleChange","e","name","value","target"],"mappings":"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","sourcesContent":["import { useEffect, useState } from \"react\";\r\nimport Bio from \"./Bio\";\r\nimport \"./style.css\";\r\nimport axios from \"axios\";\r\nimport { useSelector } from \"react-redux\";\r\nimport EditDetails from \"./EditDetails\";\r\nexport default function Intro({ detailss, visitor, setOthername }) {\r\n  const { user } = useSelector((state) => ({ ...state }));\r\n  const [details, setDetails] = useState();\r\n  const [visible, setVisible] = useState(false);\r\n  useEffect(() => {\r\n    setDetails(detailss);\r\n    setInfos(detailss);\r\n  }, [detailss]);\r\n  const initial = {\r\n    bio: details?.bio ? details.bio : \"\",\r\n    otherName: details?.otherName ? details.otherName : \"\",\r\n    job: details?.job ? details.job : \"\",\r\n    workplace: details?.workplace ? details.workplace : \"\",\r\n    highSchool: details?.highSchool ? details.highSchool : \"\",\r\n    college: details?.college ? details.college : \"\",\r\n    currentCity: details?.currentCity ? details.currentCity : \"\",\r\n    hometown: details?.hometown ? details.hometown : \"\",\r\n    relationship: details?.relationship ? details.relationship : \"\",\r\n    instagram: details?.instagram ? details.instagram : \"\",\r\n  };\r\n  const [infos, setInfos] = useState(initial);\r\n  const [showBio, setShowBio] = useState(false);\r\n  const [max, setMax] = useState(infos?.bio ? 100 - infos?.bio.length : 100);\r\n\r\n  const updateDetails = async () => {\r\n    try {\r\n      console.log(\"sent\");\r\n      const { data } = await axios.put(\r\n        `${process.env.REACT_APP_BACKEND_URL}/updateDetails`,\r\n        {\r\n          infos,\r\n        },\r\n        {\r\n          headers: {\r\n            Authorization: `Bearer ${user.token}`,\r\n          },\r\n        }\r\n      );\r\n      setShowBio(false);\r\n      setDetails(data);\r\n      setOthername(data.otherName);\r\n    } catch (error) {\r\n      console.log(error.response.data.message);\r\n    }\r\n  };\r\n  const handleChange = (e) => {\r\n    const { name, value } = e.target;\r\n    setInfos({ ...infos, [name]: value });\r\n    setMax(100 - e.target.value.length);\r\n  };\r\n  return (\r\n    <div className=\"profile_card\">\r\n      <div className=\"profile_card_header\">Intro</div>\r\n      {details?.bio && !showBio && (\r\n        <div className=\"info_col\">\r\n          <span className=\"info_text\">{details?.bio}</span>\r\n          {!visitor && (\r\n            <button\r\n              className=\"gray_btn hover1\"\r\n              onClick={() => setShowBio(true)}\r\n            >\r\n              Edit Bio\r\n            </button>\r\n          )}\r\n        </div>\r\n      )}\r\n      {!details?.bio && !showBio && !visitor && (\r\n        <button\r\n          className=\"gray_btn hover1 w100\"\r\n          onClick={() => setShowBio(true)}\r\n        >\r\n          Add Bio\r\n        </button>\r\n      )}\r\n      {showBio && (\r\n        <Bio\r\n          infos={infos}\r\n          max={max}\r\n          handleChange={handleChange}\r\n          setShowBio={setShowBio}\r\n          updateDetails={updateDetails}\r\n          placeholder=\"Add Bio\"\r\n          name=\"bio\"\r\n        />\r\n      )}\r\n      {details?.job && details?.workplace ? (\r\n        <div className=\"info_profile\">\r\n          <img src=\"../../../icons/job.png\" alt=\"\" />\r\n          works as {details?.job} at <b>{details?.workplace}</b>\r\n        </div>\r\n      ) : details?.job && !details?.workplace ? (\r\n        <div className=\"info_profile\">\r\n          <img src=\"../../../icons/job.png\" alt=\"\" />\r\n          works as {details?.job}\r\n        </div>\r\n      ) : (\r\n        details?.workplace &&\r\n        !details?.job && (\r\n          <div className=\"info_profile\">\r\n            <img src=\"../../../icons/job.png\" alt=\"\" />\r\n            works at {details?.workplace}\r\n          </div>\r\n        )\r\n      )}\r\n      {details?.relationship && (\r\n        <div className=\"info_profile\">\r\n          <img src=\"../../../icons/relationship.png\" alt=\"\" />\r\n          {details?.relationship}\r\n        </div>\r\n      )}\r\n      {details?.college && (\r\n        <div className=\"info_profile\">\r\n          <img src=\"../../../icons/studies.png\" alt=\"\" />\r\n          studied at {details?.college}\r\n        </div>\r\n      )}\r\n      {details?.highSchool && (\r\n        <div className=\"info_profile\">\r\n          <img src=\"../../../icons/studies.png\" alt=\"\" />\r\n          studied at {details?.highSchool}\r\n        </div>\r\n      )}\r\n      {details?.currentCity && (\r\n        <div className=\"info_profile\">\r\n          <img src=\"../../../icons/home.png\" alt=\"\" />\r\n          Lives in {details?.currentCity}\r\n        </div>\r\n      )}\r\n      {details?.hometown && (\r\n        <div className=\"info_profile\">\r\n          <img src=\"../../../icons/home.png\" alt=\"\" />\r\n          From {details?.hometown}\r\n        </div>\r\n      )}\r\n      {details?.hometown && (\r\n        <div className=\"info_profile\">\r\n          <img src=\"../../../icons/instagram.png\" alt=\"\" />\r\n          <a\r\n            href={`https://www.instagram.com/${details?.instagram}`}\r\n            target=\"_blank\"\r\n          >\r\n            {details?.instagram}\r\n          </a>\r\n        </div>\r\n      )}\r\n      {!visitor && (\r\n        <button\r\n          className=\"gray_btn hover1 w100\"\r\n          onClick={() => setVisible(true)}\r\n        >\r\n          Edit Details\r\n        </button>\r\n      )}\r\n      {visible && !visitor && (\r\n        <EditDetails\r\n          details={details}\r\n          handleChange={handleChange}\r\n          updateDetails={updateDetails}\r\n          infos={infos}\r\n          setVisible={setVisible}\r\n        />\r\n      )}\r\n\r\n      {!visitor && (\r\n        <button className=\"gray_btn hover1 w100\">Add Hobbies</button>\r\n      )}\r\n      {!visitor && (\r\n        <button className=\"gray_btn hover1 w100\">Add Featured</button>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n"]},"metadata":{},"sourceType":"module"}