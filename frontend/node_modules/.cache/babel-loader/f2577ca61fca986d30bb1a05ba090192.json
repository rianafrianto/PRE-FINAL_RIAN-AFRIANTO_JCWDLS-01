{"ast":null,"code":"import axios from \"axios\";\nimport { useEffect, useReducer, useState } from \"react\";\nuseEffect(() => {\n  getAllPosts();\n}, []);\n\nconst getAllPosts = async () => {\n  try {\n    dispatch({\n      type: \"POSTS_REQUEST\"\n    });\n    const {\n      data\n    } = await axios.get(`${process.env.REACT_APP_BACKEND_URL}/getAllposts`, {\n      headers: {\n        Authorization: `Bearer ${user.token}`\n      }\n    });\n    dispatch({\n      type: \"POSTS_SUCCESS\",\n      payload: data\n    });\n  } catch (error) {\n    var _error$response, _error$response$data;\n\n    dispatch({\n      type: \"POSTS_ERROR\",\n      payload: (_error$response = error.response) === null || _error$response === void 0 ? void 0 : (_error$response$data = _error$response.data) === null || _error$response$data === void 0 ? void 0 : _error$response$data.message\n    });\n  }\n};\n\nexport const createPost = async (type, background, text, images, user, token) => {\n  try {\n    const {\n      data\n    } = await axios.post(`${process.env.REACT_APP_BACKEND_URL}/createPost`, {\n      type,\n      background,\n      text,\n      images,\n      user\n    }, {\n      headers: {\n        Authorization: `Bearer ${token}`\n      }\n    });\n    return {\n      status: \"ok\",\n      data\n    };\n  } catch (error) {\n    return error.response.data.message;\n  }\n};\nexport const reactPost = async (postId, react, token) => {\n  try {\n    const {\n      data\n    } = await axios.put(`${process.env.REACT_APP_BACKEND_URL}/reactPost`, {\n      postId,\n      react\n    }, {\n      headers: {\n        Authorization: `Bearer ${token}`\n      }\n    });\n    return \"ok\";\n  } catch (error) {\n    return error.response.data.message;\n  }\n};\nexport const getReacts = async (postId, token) => {\n  try {\n    const {\n      data\n    } = await axios.get(`${process.env.REACT_APP_BACKEND_URL}/getReacts/${postId}`, {\n      headers: {\n        Authorization: `Bearer ${token}`\n      }\n    });\n    return data;\n  } catch (error) {\n    return error.response.data.message;\n  }\n};\nexport const comment = async (postId, comment, image, token) => {\n  try {\n    const {\n      data\n    } = await axios.put(`${process.env.REACT_APP_BACKEND_URL}/comment`, {\n      postId,\n      comment,\n      image\n    }, {\n      headers: {\n        Authorization: `Bearer ${token}`\n      }\n    });\n    return data;\n  } catch (error) {\n    return error.response.data.message;\n  }\n};\nexport const savePost = async (postId, token) => {\n  try {\n    const {\n      data\n    } = await axios.put(`${process.env.REACT_APP_BACKEND_URL}/savePost/${postId}`, {}, {\n      headers: {\n        Authorization: `Bearer ${token}`\n      }\n    });\n    return data;\n  } catch (error) {\n    return error.response.data.message;\n  }\n};\nexport const deletePost = async (postId, token) => {\n  try {\n    const {\n      data\n    } = await axios.delete(`${process.env.REACT_APP_BACKEND_URL}/deletePost/${postId}`, {\n      headers: {\n        Authorization: `Bearer ${token}`\n      }\n    });\n    return data;\n  } catch (error) {\n    return error.response.data.message;\n  }\n};\nexport const editPost = async (postId, comment, image, token) => {\n  try {\n    const {\n      data\n    } = await axios.put(`${process.env.REACT_APP_BACKEND_URL}/editpost`, {\n      postId,\n      comment,\n      image\n    }, {\n      headers: {\n        Authorization: `Bearer ${token}`\n      }\n    });\n    return data;\n  } catch (error) {\n    return error.response.data.message;\n  }\n};","map":{"version":3,"sources":["C:/Users/Riana/OneDrive/Desktop/Mini Project/fullstack/frontend/src/functions/post.js"],"names":["axios","useEffect","useReducer","useState","getAllPosts","dispatch","type","data","get","process","env","REACT_APP_BACKEND_URL","headers","Authorization","user","token","payload","error","response","message","createPost","background","text","images","post","status","reactPost","postId","react","put","getReacts","comment","image","savePost","deletePost","delete","editPost"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,SAAT,EAAoBC,UAApB,EAAgCC,QAAhC,QAAgD,OAAhD;AACAF,SAAS,CAAC,MAAM;AACdG,EAAAA,WAAW;AACZ,CAFQ,EAEN,EAFM,CAAT;;AAGA,MAAMA,WAAW,GAAG,YAAY;AAC9B,MAAI;AACFC,IAAAA,QAAQ,CAAC;AACPC,MAAAA,IAAI,EAAE;AADC,KAAD,CAAR;AAGA,UAAM;AAAEC,MAAAA;AAAF,QAAW,MAAMP,KAAK,CAACQ,GAAN,CACpB,GAAEC,OAAO,CAACC,GAAR,CAAYC,qBAAsB,cADhB,EAErB;AACEC,MAAAA,OAAO,EAAE;AACPC,QAAAA,aAAa,EAAG,UAASC,IAAI,CAACC,KAAM;AAD7B;AADX,KAFqB,CAAvB;AAQAV,IAAAA,QAAQ,CAAC;AACPC,MAAAA,IAAI,EAAE,eADC;AAEPU,MAAAA,OAAO,EAAET;AAFF,KAAD,CAAR;AAID,GAhBD,CAgBE,OAAOU,KAAP,EAAc;AAAA;;AACdZ,IAAAA,QAAQ,CAAC;AACPC,MAAAA,IAAI,EAAE,aADC;AAEPU,MAAAA,OAAO,qBAAEC,KAAK,CAACC,QAAR,4EAAE,gBAAgBX,IAAlB,yDAAE,qBAAsBY;AAFxB,KAAD,CAAR;AAID;AACF,CAvBD;;AAyBA,OAAO,MAAMC,UAAU,GAAG,OACxBd,IADwB,EAExBe,UAFwB,EAGxBC,IAHwB,EAIxBC,MAJwB,EAKxBT,IALwB,EAMxBC,KANwB,KAOrB;AACH,MAAI;AACF,UAAM;AAAER,MAAAA;AAAF,QAAW,MAAMP,KAAK,CAACwB,IAAN,CACpB,GAAEf,OAAO,CAACC,GAAR,CAAYC,qBAAsB,aADhB,EAErB;AACEL,MAAAA,IADF;AAEEe,MAAAA,UAFF;AAGEC,MAAAA,IAHF;AAIEC,MAAAA,MAJF;AAKET,MAAAA;AALF,KAFqB,EASrB;AACEF,MAAAA,OAAO,EAAE;AACPC,QAAAA,aAAa,EAAG,UAASE,KAAM;AADxB;AADX,KATqB,CAAvB;AAeA,WAAO;AAAEU,MAAAA,MAAM,EAAE,IAAV;AAAgBlB,MAAAA;AAAhB,KAAP;AACD,GAjBD,CAiBE,OAAOU,KAAP,EAAc;AACd,WAAOA,KAAK,CAACC,QAAN,CAAeX,IAAf,CAAoBY,OAA3B;AACD;AACF,CA5BM;AA6BP,OAAO,MAAMO,SAAS,GAAG,OAAOC,MAAP,EAAeC,KAAf,EAAsBb,KAAtB,KAAgC;AACvD,MAAI;AACF,UAAM;AAAER,MAAAA;AAAF,QAAW,MAAMP,KAAK,CAAC6B,GAAN,CACpB,GAAEpB,OAAO,CAACC,GAAR,CAAYC,qBAAsB,YADhB,EAErB;AACEgB,MAAAA,MADF;AAEEC,MAAAA;AAFF,KAFqB,EAMrB;AACEhB,MAAAA,OAAO,EAAE;AACPC,QAAAA,aAAa,EAAG,UAASE,KAAM;AADxB;AADX,KANqB,CAAvB;AAYA,WAAO,IAAP;AACD,GAdD,CAcE,OAAOE,KAAP,EAAc;AACd,WAAOA,KAAK,CAACC,QAAN,CAAeX,IAAf,CAAoBY,OAA3B;AACD;AACF,CAlBM;AAmBP,OAAO,MAAMW,SAAS,GAAG,OAAOH,MAAP,EAAeZ,KAAf,KAAyB;AAChD,MAAI;AACF,UAAM;AAAER,MAAAA;AAAF,QAAW,MAAMP,KAAK,CAACQ,GAAN,CACpB,GAAEC,OAAO,CAACC,GAAR,CAAYC,qBAAsB,cAAagB,MAAO,EADpC,EAGrB;AACEf,MAAAA,OAAO,EAAE;AACPC,QAAAA,aAAa,EAAG,UAASE,KAAM;AADxB;AADX,KAHqB,CAAvB;AASA,WAAOR,IAAP;AACD,GAXD,CAWE,OAAOU,KAAP,EAAc;AACd,WAAOA,KAAK,CAACC,QAAN,CAAeX,IAAf,CAAoBY,OAA3B;AACD;AACF,CAfM;AAgBP,OAAO,MAAMY,OAAO,GAAG,OAAOJ,MAAP,EAAeI,OAAf,EAAwBC,KAAxB,EAA+BjB,KAA/B,KAAyC;AAC9D,MAAI;AACF,UAAM;AAAER,MAAAA;AAAF,QAAW,MAAMP,KAAK,CAAC6B,GAAN,CACpB,GAAEpB,OAAO,CAACC,GAAR,CAAYC,qBAAsB,UADhB,EAErB;AACEgB,MAAAA,MADF;AAEEI,MAAAA,OAFF;AAGEC,MAAAA;AAHF,KAFqB,EAQrB;AACEpB,MAAAA,OAAO,EAAE;AACPC,QAAAA,aAAa,EAAG,UAASE,KAAM;AADxB;AADX,KARqB,CAAvB;AAcA,WAAOR,IAAP;AACD,GAhBD,CAgBE,OAAOU,KAAP,EAAc;AACd,WAAOA,KAAK,CAACC,QAAN,CAAeX,IAAf,CAAoBY,OAA3B;AACD;AACF,CApBM;AAqBP,OAAO,MAAMc,QAAQ,GAAG,OAAON,MAAP,EAAeZ,KAAf,KAAyB;AAC/C,MAAI;AACF,UAAM;AAAER,MAAAA;AAAF,QAAW,MAAMP,KAAK,CAAC6B,GAAN,CACpB,GAAEpB,OAAO,CAACC,GAAR,CAAYC,qBAAsB,aAAYgB,MAAO,EADnC,EAErB,EAFqB,EAIrB;AACEf,MAAAA,OAAO,EAAE;AACPC,QAAAA,aAAa,EAAG,UAASE,KAAM;AADxB;AADX,KAJqB,CAAvB;AAUA,WAAOR,IAAP;AACD,GAZD,CAYE,OAAOU,KAAP,EAAc;AACd,WAAOA,KAAK,CAACC,QAAN,CAAeX,IAAf,CAAoBY,OAA3B;AACD;AACF,CAhBM;AAiBP,OAAO,MAAMe,UAAU,GAAG,OAAOP,MAAP,EAAeZ,KAAf,KAAyB;AACjD,MAAI;AACF,UAAM;AAAER,MAAAA;AAAF,QAAW,MAAMP,KAAK,CAACmC,MAAN,CACpB,GAAE1B,OAAO,CAACC,GAAR,CAAYC,qBAAsB,eAAcgB,MAAO,EADrC,EAGrB;AACEf,MAAAA,OAAO,EAAE;AACPC,QAAAA,aAAa,EAAG,UAASE,KAAM;AADxB;AADX,KAHqB,CAAvB;AASA,WAAOR,IAAP;AACD,GAXD,CAWE,OAAOU,KAAP,EAAc;AACd,WAAOA,KAAK,CAACC,QAAN,CAAeX,IAAf,CAAoBY,OAA3B;AACD;AACF,CAfM;AAgBP,OAAO,MAAMiB,QAAQ,GAAG,OAAOT,MAAP,EAAeI,OAAf,EAAwBC,KAAxB,EAA+BjB,KAA/B,KAAyC;AAC/D,MAAI;AACF,UAAM;AAAER,MAAAA;AAAF,QAAW,MAAMP,KAAK,CAAC6B,GAAN,CACpB,GAAEpB,OAAO,CAACC,GAAR,CAAYC,qBAAsB,WADhB,EAErB;AACEgB,MAAAA,MADF;AAEEI,MAAAA,OAFF;AAGEC,MAAAA;AAHF,KAFqB,EAQrB;AACEpB,MAAAA,OAAO,EAAE;AACPC,QAAAA,aAAa,EAAG,UAASE,KAAM;AADxB;AADX,KARqB,CAAvB;AAcA,WAAOR,IAAP;AACD,GAhBD,CAgBE,OAAOU,KAAP,EAAc;AACd,WAAOA,KAAK,CAACC,QAAN,CAAeX,IAAf,CAAoBY,OAA3B;AACD;AACF,CApBM","sourcesContent":["import axios from \"axios\";\r\nimport { useEffect, useReducer, useState } from \"react\";\r\nuseEffect(() => {\r\n  getAllPosts();\r\n}, []);\r\nconst getAllPosts = async () => {\r\n  try {\r\n    dispatch({\r\n      type: \"POSTS_REQUEST\",\r\n    });\r\n    const { data } = await axios.get(\r\n      `${process.env.REACT_APP_BACKEND_URL}/getAllposts`,\r\n      {\r\n        headers: {\r\n          Authorization: `Bearer ${user.token}`,\r\n        },\r\n      }\r\n    );\r\n    dispatch({\r\n      type: \"POSTS_SUCCESS\",\r\n      payload: data,\r\n    });\r\n  } catch (error) {\r\n    dispatch({\r\n      type: \"POSTS_ERROR\",\r\n      payload: error.response?.data?.message,\r\n    });\r\n  }\r\n};\r\n\r\nexport const createPost = async (\r\n  type,\r\n  background,\r\n  text,\r\n  images,\r\n  user,\r\n  token\r\n) => {\r\n  try {\r\n    const { data } = await axios.post(\r\n      `${process.env.REACT_APP_BACKEND_URL}/createPost`,\r\n      {\r\n        type,\r\n        background,\r\n        text,\r\n        images,\r\n        user,\r\n      },\r\n      {\r\n        headers: {\r\n          Authorization: `Bearer ${token}`,\r\n        },\r\n      }\r\n    );\r\n    return { status: \"ok\", data };\r\n  } catch (error) {\r\n    return error.response.data.message;\r\n  }\r\n};\r\nexport const reactPost = async (postId, react, token) => {\r\n  try {\r\n    const { data } = await axios.put(\r\n      `${process.env.REACT_APP_BACKEND_URL}/reactPost`,\r\n      {\r\n        postId,\r\n        react,\r\n      },\r\n      {\r\n        headers: {\r\n          Authorization: `Bearer ${token}`,\r\n        },\r\n      }\r\n    );\r\n    return \"ok\";\r\n  } catch (error) {\r\n    return error.response.data.message;\r\n  }\r\n};\r\nexport const getReacts = async (postId, token) => {\r\n  try {\r\n    const { data } = await axios.get(\r\n      `${process.env.REACT_APP_BACKEND_URL}/getReacts/${postId}`,\r\n\r\n      {\r\n        headers: {\r\n          Authorization: `Bearer ${token}`,\r\n        },\r\n      }\r\n    );\r\n    return data;\r\n  } catch (error) {\r\n    return error.response.data.message;\r\n  }\r\n};\r\nexport const comment = async (postId, comment, image, token) => {\r\n  try {\r\n    const { data } = await axios.put(\r\n      `${process.env.REACT_APP_BACKEND_URL}/comment`,\r\n      {\r\n        postId,\r\n        comment,\r\n        image,\r\n      },\r\n\r\n      {\r\n        headers: {\r\n          Authorization: `Bearer ${token}`,\r\n        },\r\n      }\r\n    );\r\n    return data;\r\n  } catch (error) {\r\n    return error.response.data.message;\r\n  }\r\n};\r\nexport const savePost = async (postId, token) => {\r\n  try {\r\n    const { data } = await axios.put(\r\n      `${process.env.REACT_APP_BACKEND_URL}/savePost/${postId}`,\r\n      {},\r\n\r\n      {\r\n        headers: {\r\n          Authorization: `Bearer ${token}`,\r\n        },\r\n      }\r\n    );\r\n    return data;\r\n  } catch (error) {\r\n    return error.response.data.message;\r\n  }\r\n};\r\nexport const deletePost = async (postId, token) => {\r\n  try {\r\n    const { data } = await axios.delete(\r\n      `${process.env.REACT_APP_BACKEND_URL}/deletePost/${postId}`,\r\n\r\n      {\r\n        headers: {\r\n          Authorization: `Bearer ${token}`,\r\n        },\r\n      }\r\n    );\r\n    return data;\r\n  } catch (error) {\r\n    return error.response.data.message;\r\n  }\r\n};\r\nexport const editPost = async (postId, comment, image, token) => {\r\n  try {\r\n    const { data } = await axios.put(\r\n      `${process.env.REACT_APP_BACKEND_URL}/editpost`,\r\n      {\r\n        postId,\r\n        comment,\r\n        image,\r\n      },\r\n\r\n      {\r\n        headers: {\r\n          Authorization: `Bearer ${token}`,\r\n        },\r\n      }\r\n    );\r\n    return data;\r\n  } catch (error) {\r\n    return error.response.data.message;\r\n  }\r\n};\r\n"]},"metadata":{},"sourceType":"module"}