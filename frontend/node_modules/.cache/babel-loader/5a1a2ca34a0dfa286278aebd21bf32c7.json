{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Riana\\\\OneDrive\\\\Desktop\\\\Mini Project\\\\fullstack\\\\frontend\\\\src\\\\pages\\\\profile\\\\index.js\",\n    _s = $RefreshSig$();\n\nimport axios from \"axios\";\nimport { useEffect, useReducer, useRef, useState } from \"react\";\nimport { useSelector } from \"react-redux\";\nimport { Link, useNavigate, useParams } from \"react-router-dom\";\nimport { profileReducer } from \"../../functions/reducers\";\nimport Header from \"../../components/header\";\nimport \"./style.css\";\nimport Cover from \"./Cover\";\nimport ProfielPictureInfos from \"./ProfielPictureInfos\";\nimport ProfileMenu from \"./ProfileMenu\";\nimport PplYouMayKnow from \"./PplYouMayKnow\";\nimport CreatePost from \"../../components/createPost\";\nimport Post from \"../../components/post\";\nimport Photos from \"./Photos\";\nimport Friends from \"./Friends\";\nimport Intro from \"../../components/intro\";\nimport { useMediaQuery } from \"react-responsive\";\nimport CreatePostPopup from \"../../components/createPostPopup\";\nimport Skeleton, { SkeletonTheme } from \"react-loading-skeleton\";\nimport \"react-loading-skeleton/dist/skeleton.css\";\nimport { HashLoader } from \"react-spinners\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport default function Profile(_ref) {\n  _s();\n\n  let {\n    getAllPosts\n  } = _ref;\n  const [visible, setVisible] = useState(false);\n  const {\n    username\n  } = useParams();\n  const navigate = useNavigate();\n  const {\n    user\n  } = useSelector(state => ({ ...state\n  }));\n  const [photos, setPhotos] = useState({});\n  var userName = username === undefined ? user.username : username;\n  const [{\n    loading,\n    error,\n    profile\n  }, dispatch] = useReducer(profileReducer, {\n    loading: false,\n    profile: {},\n    error: \"\"\n  });\n  useEffect(() => {\n    getProfile();\n  }, [userName]);\n  useEffect(() => {\n    var _profile$details;\n\n    setOthername(profile === null || profile === void 0 ? void 0 : (_profile$details = profile.details) === null || _profile$details === void 0 ? void 0 : _profile$details.otherName);\n  }, [profile]);\n  var visitor = userName === user.username ? false : true;\n  const [othername, setOthername] = useState();\n  const path = `${userName}/*`;\n  const max = 30;\n  const sort = \"desc\";\n\n  const getProfile = async () => {\n    try {\n      dispatch({\n        type: \"PROFILE_REQUEST\"\n      });\n      const {\n        data\n      } = await axios.get(`${process.env.REACT_APP_BACKEND_URL}/getProfile/${userName}`, {\n        headers: {\n          Authorization: `Bearer ${user.token}`\n        }\n      });\n\n      if (data.ok === false) {\n        navigate(\"/profile\");\n      } else {\n        try {\n          const images = await axios.post(`${process.env.REACT_APP_BACKEND_URL}/listImages`, {\n            path,\n            sort,\n            max\n          }, {\n            headers: {\n              Authorization: `Bearer ${user.token}`\n            }\n          });\n          setPhotos(images.data);\n        } catch (error) {\n          console.log(error);\n        }\n\n        dispatch({\n          type: \"PROFILE_SUCCESS\",\n          payload: data\n        });\n      }\n    } catch (error) {\n      dispatch({\n        type: \"PROFILE_ERROR\",\n        payload: error.response.data.message\n      });\n    }\n  };\n\n  const profileTop = useRef(null);\n  const leftSide = useRef(null);\n  const [height, setHeight] = useState();\n  const [leftHeight, setLeftHeight] = useState();\n  const [scrollHeight, setScrollHeight] = useState();\n  useEffect(() => {\n    setHeight(profileTop.current.clientHeight + 300);\n    setLeftHeight(leftSide.current.clientHeight);\n    window.addEventListener(\"scroll\", getScroll, {\n      passive: true\n    });\n    return () => {\n      window.addEventListener(\"scroll\", getScroll, {\n        passive: true\n      });\n    };\n  }, [loading, scrollHeight]);\n  const check = useMediaQuery({\n    query: \"(min-width:901px)\"\n  });\n\n  const getScroll = () => {\n    setScrollHeight(window.pageYOffset);\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"profile\",\n    children: [visible && /*#__PURE__*/_jsxDEV(CreatePostPopup, {\n      user: user,\n      setVisible: setVisible,\n      posts: profile === null || profile === void 0 ? void 0 : profile.posts,\n      dispatch: dispatch,\n      profile: true\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(Header, {\n      page: \"profile\",\n      getAllPosts: getAllPosts\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"profile_top\",\n      ref: profileTop,\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"profile_container\",\n        children: [loading ? /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"profile_cover\",\n            children: /*#__PURE__*/_jsxDEV(Skeleton, {\n              height: \"347px\",\n              containerClassName: \"avatar-skeleton\",\n              style: {\n                borderRadius: \"8px\"\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 128,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 127,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"profile_img_wrap\",\n            style: {\n              marginBottom: \"-3rem\",\n              transform: \"translateY(-8px)\"\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"profile_w_left\",\n              children: [/*#__PURE__*/_jsxDEV(Skeleton, {\n                circle: true,\n                height: \"180px\",\n                width: \"180px\",\n                containerClassName: \"avatar-skeleton\",\n                style: {\n                  transform: \"translateY(-3.3rem)\"\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 142,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"profile_w_col\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"profile_name\",\n                  children: [/*#__PURE__*/_jsxDEV(Skeleton, {\n                    height: \"35px\",\n                    width: \"200px\",\n                    containerClassName: \"avatar-skeleton\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 151,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(Skeleton, {\n                    height: \"30px\",\n                    width: \"100px\",\n                    containerClassName: \"avatar-skeleton\",\n                    style: {\n                      transform: \"translateY(2.5px)\"\n                    }\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 156,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 150,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"profile_friend_count\",\n                  children: /*#__PURE__*/_jsxDEV(Skeleton, {\n                    height: \"20px\",\n                    width: \"90px\",\n                    containerClassName: \"avatar-skeleton\",\n                    style: {\n                      marginTop: \"5px\"\n                    }\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 164,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 163,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"profile_friend_imgs\",\n                  children: Array.from(new Array(6), (val, i) => i + 1).map((id, i) => /*#__PURE__*/_jsxDEV(Skeleton, {\n                    circle: true,\n                    height: \"32px\",\n                    width: \"32px\",\n                    containerClassName: \"avatar-skeleton\",\n                    style: {\n                      transform: `translateX(${-i * 7}px)`\n                    }\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 174,\n                    columnNumber: 27\n                  }, this))\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 171,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 149,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 141,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: `friendship ${!visitor && \"fix\"}`,\n              children: [/*#__PURE__*/_jsxDEV(Skeleton, {\n                height: \"36px\",\n                width: 120,\n                containerClassName: \"avatar-skeleton\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 187,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex\",\n                children: [/*#__PURE__*/_jsxDEV(Skeleton, {\n                  height: \"36px\",\n                  width: 120,\n                  containerClassName: \"avatar-skeleton\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 193,\n                  columnNumber: 21\n                }, this), visitor && /*#__PURE__*/_jsxDEV(Skeleton, {\n                  height: \"36px\",\n                  width: 120,\n                  containerClassName: \"avatar-skeleton\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 199,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 192,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 186,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 134,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true) : /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(Cover, {\n            cover: profile.cover,\n            visitor: visitor,\n            photos: photos.resources\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 211,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(ProfielPictureInfos, {\n            profile: profile,\n            visitor: visitor,\n            photos: photos.resources,\n            othername: othername,\n            loading: loading\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 216,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true), /*#__PURE__*/_jsxDEV(ProfileMenu, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 226,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"profile_bottom\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"profile_container\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bottom_container\",\n          children: [/*#__PURE__*/_jsxDEV(PplYouMayKnow, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 232,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: `profile_grid ${check && scrollHeight >= height && leftHeight > 1000 ? \"scrollFixed showLess\" : check && scrollHeight >= height && leftHeight < 1000 && \"scrollFixed showMore\"}`,\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"profile_left\",\n              ref: leftSide,\n              children: [loading ? /*#__PURE__*/_jsxDEV(_Fragment, {\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"profile_card\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"profile_card_header\",\n                    children: \"Intro\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 247,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"sekelton_loader\",\n                    children: /*#__PURE__*/_jsxDEV(HashLoader, {\n                      color: \"#1876f2\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 249,\n                      columnNumber: 25\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 248,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 246,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"profile_card\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"profile_card_header\",\n                    children: [\"Photos\", /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"profile_header_link\",\n                      children: \"See all photos\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 255,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 253,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"sekelton_loader\",\n                    children: /*#__PURE__*/_jsxDEV(HashLoader, {\n                      color: \"#1876f2\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 260,\n                      columnNumber: 25\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 259,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 252,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"profile_card\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"profile_card_header\",\n                    children: [\"Friends\", /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"profile_header_link\",\n                      children: \"See all friends\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 266,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 264,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"sekelton_loader\",\n                    children: /*#__PURE__*/_jsxDEV(HashLoader, {\n                      color: \"#1876f2\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 271,\n                      columnNumber: 25\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 270,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 263,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true) : /*#__PURE__*/_jsxDEV(_Fragment, {\n                children: [/*#__PURE__*/_jsxDEV(Intro, {\n                  detailss: profile.details,\n                  visitor: visitor,\n                  setOthername: setOthername\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 277,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(Photos, {\n                  username: userName,\n                  token: user.token,\n                  photos: photos\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 282,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(Friends, {\n                  friends: profile.friends\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 287,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"relative_fb_copyright\",\n                children: [/*#__PURE__*/_jsxDEV(Link, {\n                  to: \"/\",\n                  children: \"Privacy \"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 291,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  children: \". \"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 292,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(Link, {\n                  to: \"/\",\n                  children: \"Terms \"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 293,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  children: \". \"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 294,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(Link, {\n                  to: \"/\",\n                  children: \"Advertising \"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 295,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  children: \". \"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 296,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(Link, {\n                  to: \"/\",\n                  children: [\"Ad Choices \", /*#__PURE__*/_jsxDEV(\"i\", {\n                    className: \"ad_choices_icon\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 298,\n                    columnNumber: 32\n                  }, this), \" \"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 297,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  children: \". \"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 300,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(Link, {\n                  to: \"/\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 301,\n                  columnNumber: 19\n                }, this), \"Cookies \", /*#__PURE__*/_jsxDEV(\"span\", {\n                  children: \". \"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 301,\n                  columnNumber: 47\n                }, this), /*#__PURE__*/_jsxDEV(Link, {\n                  to: \"/\",\n                  children: \"More \"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 302,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  children: \". \"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 303,\n                  columnNumber: 19\n                }, this), \" \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 303,\n                  columnNumber: 35\n                }, this), \"Meta \\xA9 2022\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 290,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 243,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"profile_right\",\n              children: [!visitor && /*#__PURE__*/_jsxDEV(CreatePost, {\n                user: user,\n                profile: true,\n                setVisible: setVisible\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 309,\n                columnNumber: 19\n              }, this), loading ? /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"sekelton_loader\",\n                children: /*#__PURE__*/_jsxDEV(HashLoader, {\n                  color: \"#1876f2\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 313,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 312,\n                columnNumber: 19\n              }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"posts\",\n                children: profile.posts && profile.posts.length ? profile.posts.map(post => /*#__PURE__*/_jsxDEV(Post, {\n                  post: post,\n                  user: user,\n                  profile: true\n                }, post._id, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 319,\n                  columnNumber: 25\n                }, this)) : /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"no_posts\",\n                  children: \"No posts available\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 322,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 316,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 307,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 233,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 231,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 230,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 229,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 112,\n    columnNumber: 5\n  }, this);\n}\n\n_s(Profile, \"9zOYBpN5aDaDoNZc3GBcTo0j92k=\", false, function () {\n  return [useParams, useNavigate, useSelector, useMediaQuery];\n});\n\n_c = Profile;\n\nvar _c;\n\n$RefreshReg$(_c, \"Profile\");","map":{"version":3,"sources":["C:/Users/Riana/OneDrive/Desktop/Mini Project/fullstack/frontend/src/pages/profile/index.js"],"names":["axios","useEffect","useReducer","useRef","useState","useSelector","Link","useNavigate","useParams","profileReducer","Header","Cover","ProfielPictureInfos","ProfileMenu","PplYouMayKnow","CreatePost","Post","Photos","Friends","Intro","useMediaQuery","CreatePostPopup","Skeleton","SkeletonTheme","HashLoader","Profile","getAllPosts","visible","setVisible","username","navigate","user","state","photos","setPhotos","userName","undefined","loading","error","profile","dispatch","getProfile","setOthername","details","otherName","visitor","othername","path","max","sort","type","data","get","process","env","REACT_APP_BACKEND_URL","headers","Authorization","token","ok","images","post","console","log","payload","response","message","profileTop","leftSide","height","setHeight","leftHeight","setLeftHeight","scrollHeight","setScrollHeight","current","clientHeight","window","addEventListener","getScroll","passive","check","query","pageYOffset","posts","borderRadius","marginBottom","transform","marginTop","Array","from","val","i","map","id","cover","resources","friends","length","_id"],"mappings":"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","sourcesContent":["import axios from \"axios\";\r\nimport { useEffect, useReducer, useRef, useState } from \"react\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { Link, useNavigate, useParams } from \"react-router-dom\";\r\nimport { profileReducer } from \"../../functions/reducers\";\r\nimport Header from \"../../components/header\";\r\nimport \"./style.css\";\r\nimport Cover from \"./Cover\";\r\nimport ProfielPictureInfos from \"./ProfielPictureInfos\";\r\nimport ProfileMenu from \"./ProfileMenu\";\r\nimport PplYouMayKnow from \"./PplYouMayKnow\";\r\nimport CreatePost from \"../../components/createPost\";\r\nimport Post from \"../../components/post\";\r\nimport Photos from \"./Photos\";\r\nimport Friends from \"./Friends\";\r\nimport Intro from \"../../components/intro\";\r\nimport { useMediaQuery } from \"react-responsive\";\r\nimport CreatePostPopup from \"../../components/createPostPopup\";\r\nimport Skeleton, { SkeletonTheme } from \"react-loading-skeleton\";\r\nimport \"react-loading-skeleton/dist/skeleton.css\";\r\nimport { HashLoader } from \"react-spinners\";\r\n\r\nexport default function Profile({ getAllPosts }) {\r\n  const [visible, setVisible] = useState(false);\r\n  const { username } = useParams();\r\n  const navigate = useNavigate();\r\n  const { user } = useSelector((state) => ({ ...state }));\r\n  const [photos, setPhotos] = useState({});\r\n  var userName = username === undefined ? user.username : username;\r\n\r\n  const [{ loading, error, profile }, dispatch] = useReducer(profileReducer, {\r\n    loading: false,\r\n    profile: {},\r\n    error: \"\",\r\n  });\r\n  useEffect(() => {\r\n    getProfile();\r\n  }, [userName]);\r\n  useEffect(() => {\r\n    setOthername(profile?.details?.otherName);\r\n  }, [profile]);\r\n\r\n  var visitor = userName === user.username ? false : true;\r\n  const [othername, setOthername] = useState();\r\n  const path = `${userName}/*`;\r\n  const max = 30;\r\n  const sort = \"desc\";\r\n\r\n  const getProfile = async () => {\r\n    try {\r\n      dispatch({\r\n        type: \"PROFILE_REQUEST\",\r\n      });\r\n      const { data } = await axios.get(\r\n        `${process.env.REACT_APP_BACKEND_URL}/getProfile/${userName}`,\r\n        {\r\n          headers: {\r\n            Authorization: `Bearer ${user.token}`,\r\n          },\r\n        }\r\n      );\r\n      if (data.ok === false) {\r\n        navigate(\"/profile\");\r\n      } else {\r\n        try {\r\n          const images = await axios.post(\r\n            `${process.env.REACT_APP_BACKEND_URL}/listImages`,\r\n            { path, sort, max },\r\n            {\r\n              headers: {\r\n                Authorization: `Bearer ${user.token}`,\r\n              },\r\n            }\r\n          );\r\n          setPhotos(images.data);\r\n        } catch (error) {\r\n          console.log(error);\r\n        }\r\n        dispatch({\r\n          type: \"PROFILE_SUCCESS\",\r\n          payload: data,\r\n        });\r\n      }\r\n    } catch (error) {\r\n      dispatch({\r\n        type: \"PROFILE_ERROR\",\r\n        payload: error.response.data.message,\r\n      });\r\n    }\r\n  };\r\n  const profileTop = useRef(null);\r\n  const leftSide = useRef(null);\r\n  const [height, setHeight] = useState();\r\n  const [leftHeight, setLeftHeight] = useState();\r\n  const [scrollHeight, setScrollHeight] = useState();\r\n  useEffect(() => {\r\n    setHeight(profileTop.current.clientHeight + 300);\r\n    setLeftHeight(leftSide.current.clientHeight);\r\n    window.addEventListener(\"scroll\", getScroll, { passive: true });\r\n    return () => {\r\n      window.addEventListener(\"scroll\", getScroll, { passive: true });\r\n    };\r\n  }, [loading, scrollHeight]);\r\n  const check = useMediaQuery({\r\n    query: \"(min-width:901px)\",\r\n  });\r\n  const getScroll = () => {\r\n    setScrollHeight(window.pageYOffset);\r\n  };\r\n\r\n  return (\r\n    <div className=\"profile\">\r\n      {visible && (\r\n        <CreatePostPopup\r\n          user={user}\r\n          setVisible={setVisible}\r\n          posts={profile?.posts}\r\n          dispatch={dispatch}\r\n          profile\r\n        />\r\n      )}\r\n      <Header page=\"profile\" getAllPosts={getAllPosts} />\r\n      <div className=\"profile_top\" ref={profileTop}>\r\n        <div className=\"profile_container\">\r\n          {loading ? (\r\n            <>\r\n              <div className=\"profile_cover\">\r\n                <Skeleton\r\n                  height=\"347px\"\r\n                  containerClassName=\"avatar-skeleton\"\r\n                  style={{ borderRadius: \"8px\" }}\r\n                />\r\n              </div>\r\n              <div\r\n                className=\"profile_img_wrap\"\r\n                style={{\r\n                  marginBottom: \"-3rem\",\r\n                  transform: \"translateY(-8px)\",\r\n                }}\r\n              >\r\n                <div className=\"profile_w_left\">\r\n                  <Skeleton\r\n                    circle\r\n                    height=\"180px\"\r\n                    width=\"180px\"\r\n                    containerClassName=\"avatar-skeleton\"\r\n                    style={{ transform: \"translateY(-3.3rem)\" }}\r\n                  />\r\n                  <div className=\"profile_w_col\">\r\n                    <div className=\"profile_name\">\r\n                      <Skeleton\r\n                        height=\"35px\"\r\n                        width=\"200px\"\r\n                        containerClassName=\"avatar-skeleton\"\r\n                      />\r\n                      <Skeleton\r\n                        height=\"30px\"\r\n                        width=\"100px\"\r\n                        containerClassName=\"avatar-skeleton\"\r\n                        style={{ transform: \"translateY(2.5px)\" }}\r\n                      />\r\n                    </div>\r\n                    <div className=\"profile_friend_count\">\r\n                      <Skeleton\r\n                        height=\"20px\"\r\n                        width=\"90px\"\r\n                        containerClassName=\"avatar-skeleton\"\r\n                        style={{ marginTop: \"5px\" }}\r\n                      />\r\n                    </div>\r\n                    <div className=\"profile_friend_imgs\">\r\n                      {Array.from(new Array(6), (val, i) => i + 1).map(\r\n                        (id, i) => (\r\n                          <Skeleton\r\n                            circle\r\n                            height=\"32px\"\r\n                            width=\"32px\"\r\n                            containerClassName=\"avatar-skeleton\"\r\n                            style={{ transform: `translateX(${-i * 7}px)` }}\r\n                          />\r\n                        )\r\n                      )}\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n                <div className={`friendship ${!visitor && \"fix\"}`}>\r\n                  <Skeleton\r\n                    height=\"36px\"\r\n                    width={120}\r\n                    containerClassName=\"avatar-skeleton\"\r\n                  />\r\n                  <div className=\"flex\">\r\n                    <Skeleton\r\n                      height=\"36px\"\r\n                      width={120}\r\n                      containerClassName=\"avatar-skeleton\"\r\n                    />\r\n                    {visitor && (\r\n                      <Skeleton\r\n                        height=\"36px\"\r\n                        width={120}\r\n                        containerClassName=\"avatar-skeleton\"\r\n                      />\r\n                    )}\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </>\r\n          ) : (\r\n            <>\r\n              <Cover\r\n                cover={profile.cover}\r\n                visitor={visitor}\r\n                photos={photos.resources}\r\n              />\r\n              <ProfielPictureInfos\r\n                profile={profile}\r\n                visitor={visitor}\r\n                photos={photos.resources}\r\n                othername={othername}\r\n                loading={loading}\r\n              />\r\n            </>\r\n          )}\r\n\r\n          <ProfileMenu />\r\n        </div>\r\n      </div>\r\n      <div className=\"profile_bottom\">\r\n        <div className=\"profile_container\">\r\n          <div className=\"bottom_container\">\r\n            <PplYouMayKnow />\r\n            <div\r\n              className={`profile_grid ${\r\n                check && scrollHeight >= height && leftHeight > 1000\r\n                  ? \"scrollFixed showLess\"\r\n                  : check &&\r\n                    scrollHeight >= height &&\r\n                    leftHeight < 1000 &&\r\n                    \"scrollFixed showMore\"\r\n              }`}\r\n            >\r\n              <div className=\"profile_left\" ref={leftSide}>\r\n                {loading ? (\r\n                  <>\r\n                    <div className=\"profile_card\">\r\n                      <div className=\"profile_card_header\">Intro</div>\r\n                      <div className=\"sekelton_loader\">\r\n                        <HashLoader color=\"#1876f2\" />\r\n                      </div>\r\n                    </div>\r\n                    <div className=\"profile_card\">\r\n                      <div className=\"profile_card_header\">\r\n                        Photos\r\n                        <div className=\"profile_header_link\">\r\n                          See all photos\r\n                        </div>\r\n                      </div>\r\n                      <div className=\"sekelton_loader\">\r\n                        <HashLoader color=\"#1876f2\" />\r\n                      </div>\r\n                    </div>\r\n                    <div className=\"profile_card\">\r\n                      <div className=\"profile_card_header\">\r\n                        Friends\r\n                        <div className=\"profile_header_link\">\r\n                          See all friends\r\n                        </div>\r\n                      </div>\r\n                      <div className=\"sekelton_loader\">\r\n                        <HashLoader color=\"#1876f2\" />\r\n                      </div>\r\n                    </div>\r\n                  </>\r\n                ) : (\r\n                  <>\r\n                    <Intro\r\n                      detailss={profile.details}\r\n                      visitor={visitor}\r\n                      setOthername={setOthername}\r\n                    />\r\n                    <Photos\r\n                      username={userName}\r\n                      token={user.token}\r\n                      photos={photos}\r\n                    />\r\n                    <Friends friends={profile.friends} />\r\n                  </>\r\n                )}\r\n                <div className=\"relative_fb_copyright\">\r\n                  <Link to=\"/\">Privacy </Link>\r\n                  <span>. </span>\r\n                  <Link to=\"/\">Terms </Link>\r\n                  <span>. </span>\r\n                  <Link to=\"/\">Advertising </Link>\r\n                  <span>. </span>\r\n                  <Link to=\"/\">\r\n                    Ad Choices <i className=\"ad_choices_icon\"></i>{\" \"}\r\n                  </Link>\r\n                  <span>. </span>\r\n                  <Link to=\"/\"></Link>Cookies <span>. </span>\r\n                  <Link to=\"/\">More </Link>\r\n                  <span>. </span> <br />\r\n                  Meta © 2022\r\n                </div>\r\n              </div>\r\n              <div className=\"profile_right\">\r\n                {!visitor && (\r\n                  <CreatePost user={user} profile setVisible={setVisible} />\r\n                )}\r\n                {loading ? (\r\n                  <div className=\"sekelton_loader\">\r\n                    <HashLoader color=\"#1876f2\" />\r\n                  </div>\r\n                ) : (\r\n                  <div className=\"posts\">\r\n                    {profile.posts && profile.posts.length ? (\r\n                      profile.posts.map((post) => (\r\n                        <Post post={post} user={user} key={post._id} profile />\r\n                      ))\r\n                    ) : (\r\n                      <div className=\"no_posts\">No posts available</div>\r\n                    )}\r\n                  </div>\r\n                )}\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"]},"metadata":{},"sourceType":"module"}