{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Riana\\\\OneDrive\\\\Desktop\\\\Mini Project\\\\fullstack\\\\frontend\\\\src\\\\pages\\\\reset\\\\ChangePassword.js\",\n    _s = $RefreshSig$();\n\nimport { Form, Formik } from \"formik\";\nimport { useState } from \"react\";\nimport { Link, Navigate, useNavigate } from \"react-router-dom\";\nimport LoginInput from \"../../components/inputs/loginInput\";\nimport * as Yup from \"yup\";\nimport axios from \"axios\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function ChangePassword(_ref) {\n  _s();\n\n  let {\n    password,\n    setPassword,\n    conf_password,\n    setConf_password,\n    error,\n    laoding,\n    setLoading,\n    userInfos,\n    setError\n  } = _ref;\n  const navigate = useNavigate();\n  const validatePassword = Yup.object({\n    password: Yup.string().required(\"Enter a combination of at least six numbers,letters and punctuation marks(such as ! and &).\").min(6, \"Password must be atleast 6 characters.\").max(36, \"Password can't be more than 36 characters\"),\n    conf_password: Yup.string().required(\"Confirm your password.\").oneOf([Yup.ref(\"password\")], \"Passwords must match.\")\n  });\n  const {\n    email\n  } = userInfos;\n\n  const changePassword = async () => {\n    try {\n      setLoading(true);\n      await axios.post(`${process.env.REACT_APP_BACKEND_URL}/changePassword`, {\n        email,\n        password\n      });\n      setError(\"\");\n      navigate(\"/\");\n    } catch (error) {\n      setLoading(false);\n      setError(error.response.data.message);\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"reset_form\",\n    style: {\n      height: \"310px\"\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"reset_form_header\",\n      children: \"Change Password\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"reset_form_text\",\n      children: \"Pick a strong password\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Formik, {\n      enableReinitialize: true,\n      initialValues: {\n        password,\n        conf_password\n      },\n      validationSchema: validatePassword,\n      onSubmit: () => {\n        changePassword();\n      },\n      children: formik => /*#__PURE__*/_jsxDEV(Form, {\n        children: [/*#__PURE__*/_jsxDEV(LoginInput, {\n          type: \"password\",\n          name: \"password\",\n          onChange: e => setPassword(e.target.value),\n          placeholder: \"New password\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(LoginInput, {\n          type: \"password\",\n          name: \"conf_password\",\n          onChange: e => setConf_password(e.target.value),\n          placeholder: \"Confirm new password\",\n          bottom: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 13\n        }, this), error && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"error_text\",\n          children: error\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 23\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"reset_form_btns\",\n          children: [/*#__PURE__*/_jsxDEV(Link, {\n            to: \"/login\",\n            className: \"gray_btn\",\n            children: \"Cancel\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 79,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"submit\",\n            className: \"blue_btn\",\n            children: \"Continue\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 82,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 48,\n    columnNumber: 5\n  }, this);\n}\n\n_s(ChangePassword, \"CzcTeTziyjMsSrAVmHuCCb6+Bfg=\", false, function () {\n  return [useNavigate];\n});\n\n_c = ChangePassword;\n\nvar _c;\n\n$RefreshReg$(_c, \"ChangePassword\");","map":{"version":3,"sources":["C:/Users/Riana/OneDrive/Desktop/Mini Project/fullstack/frontend/src/pages/reset/ChangePassword.js"],"names":["Form","Formik","useState","Link","Navigate","useNavigate","LoginInput","Yup","axios","ChangePassword","password","setPassword","conf_password","setConf_password","error","laoding","setLoading","userInfos","setError","navigate","validatePassword","object","string","required","min","max","oneOf","ref","email","changePassword","post","process","env","REACT_APP_BACKEND_URL","response","data","message","height","formik","e","target","value"],"mappings":"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","sourcesContent":["import { Form, Formik } from \"formik\";\r\nimport { useState } from \"react\";\r\nimport { Link, Navigate, useNavigate } from \"react-router-dom\";\r\nimport LoginInput from \"../../components/inputs/loginInput\";\r\nimport * as Yup from \"yup\";\r\nimport axios from \"axios\";\r\n\r\nexport default function ChangePassword({\r\n  password,\r\n  setPassword,\r\n  conf_password,\r\n  setConf_password,\r\n  error,\r\n  laoding,\r\n  setLoading,\r\n  userInfos,\r\n  setError,\r\n}) {\r\n  const navigate = useNavigate();\r\n  const validatePassword = Yup.object({\r\n    password: Yup.string()\r\n      .required(\r\n        \"Enter a combination of at least six numbers,letters and punctuation marks(such as ! and &).\"\r\n      )\r\n      .min(6, \"Password must be atleast 6 characters.\")\r\n      .max(36, \"Password can't be more than 36 characters\"),\r\n\r\n    conf_password: Yup.string()\r\n      .required(\"Confirm your password.\")\r\n      .oneOf([Yup.ref(\"password\")], \"Passwords must match.\"),\r\n  });\r\n  const { email } = userInfos;\r\n  const changePassword = async () => {\r\n    try {\r\n      setLoading(true);\r\n      await axios.post(`${process.env.REACT_APP_BACKEND_URL}/changePassword`, {\r\n        email,\r\n        password,\r\n      });\r\n      setError(\"\");\r\n      navigate(\"/\");\r\n    } catch (error) {\r\n      setLoading(false);\r\n      setError(error.response.data.message);\r\n    }\r\n  };\r\n  return (\r\n    <div className=\"reset_form\" style={{ height: \"310px\" }}>\r\n      <div className=\"reset_form_header\">Change Password</div>\r\n      <div className=\"reset_form_text\">Pick a strong password</div>\r\n      <Formik\r\n        enableReinitialize\r\n        initialValues={{\r\n          password,\r\n          conf_password,\r\n        }}\r\n        validationSchema={validatePassword}\r\n        onSubmit={() => {\r\n          changePassword();\r\n        }}\r\n      >\r\n        {(formik) => (\r\n          <Form>\r\n            <LoginInput\r\n              type=\"password\"\r\n              name=\"password\"\r\n              onChange={(e) => setPassword(e.target.value)}\r\n              placeholder=\"New password\"\r\n            />\r\n            <LoginInput\r\n              type=\"password\"\r\n              name=\"conf_password\"\r\n              onChange={(e) => setConf_password(e.target.value)}\r\n              placeholder=\"Confirm new password\"\r\n              bottom\r\n            />\r\n            {error && <div className=\"error_text\">{error}</div>}\r\n            <div className=\"reset_form_btns\">\r\n              <Link to=\"/login\" className=\"gray_btn\">\r\n                Cancel\r\n              </Link>\r\n              <button type=\"submit\" className=\"blue_btn\">\r\n                Continue\r\n              </button>\r\n            </div>\r\n          </Form>\r\n        )}\r\n      </Formik>\r\n    </div>\r\n  );\r\n}\r\n"]},"metadata":{},"sourceType":"module"}